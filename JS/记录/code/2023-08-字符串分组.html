<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="fun1()">字符串分组</button>
    <br>

</body>
<script>

    function fun1() {
        let msg = "今日沪深300涨幅1.77%"
        let regexp = /[0-9][.]*[0-9]*/g

        const matches = msg.matchAll(regexp);
        if (matches) {
            let indexArray = []
            // 获取匹配内容的index
            for (const match of matches) {
                let start = match.index
                let value = match[0]
                let end = start + value.length
                indexArray.push(start)
                indexArray.push(end)
            }

            // 兼容性:起始内容满足条件
            if (indexArray[0] !== 0) {
                indexArray.unshift(0)
            }
            alert(indexArray)
            let res = []
            for (let i = 0; i < indexArray.length; i++) {
                // 兼容性:结束位置满足条件
                if (indexArray[i] == msg.length) {
                    break
                }
                res.push(msg.substring(indexArray[i], indexArray[i + 1]))
            }
            alert(res)
        } else {
            alert('原样返回')
            return
        }
    }

</script>

</html>